<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="google" content="notranslate" />

    <title>botanist</title>

    <link rel="canonical" href="https://aequologica.net/sto.html" />

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@latest/dist/css/bootstrap.min.css" rel="stylesheet" />
    <style>
      #bo table thead tr th {
        font-size: smaller;
      }
      #bo table tr td:nth-child(3),
      #bo table tr td:nth-child(4),
      #bo table tr td:nth-child(5) {
        text-align: right;
        font-family: "Courier New", monospace;
      }
    </style>

    <script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@latest/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/lodash@latest/lodash.min.js"></script>

    <script>
      $(document).ready( () => {
        const bo = {
          "prolégomènes": {arm: "", mea: 2, beg: "0:00", dur: 11, tex: "blanc"},
          A: {arm: "###", mea: 12, beg: "0:11", dur: 33, tex: "souvenirs"},
          B: {arm: "♭♭♭", mea: 12, beg: "0:44", dur: 33, tex: "souvenirs plus forts"},
          A2: {arm: "###", mea: 12, beg: "1:17", dur: 33, tex: "action"},
          B2: {arm: "♭♭♭", mea: 13, beg: "1:50", dur: 36, tex: "action plus forte"},
          A3: {arm: "###", mea: 11, beg: "2:26", dur: 30, tex: "abandon"},
          "développement": {arm: "", mea: 16, beg: "2:56", dur: 44, tex: "attente/suspense, puis agacement/énervement/conflit qui monte"},
          B3: {arm: "♭♭♭", mea: 13, beg: "3:40", dur: 36, tex: "putain, il faut faire quelque chose !"},
          A4: {arm: "###", mea: 9, beg: "4:16", dur: 25, tex: "agréable mélancolie, saudade"},     
          "péroraison": {arm: "####", mea: 6, beg: "4:41", dur: 17, tex: "tentative, dernier soubresaut"},
          coda: {arm: "##", mea: 2, beg: "4:58", dur: 11, tex: "tout est bien qui finit bien, vraiment ? (sol ♮)"}
          
          
        }

        $("#bo thead")
            .append($("<tr>")
              .append($("<th>").text("part"))
              .append($("<th>").text("armature"))
              .append($("<th>").text("mesures"))
              .append($("<th>").text("début"))
              .append($("<th>").text("durée en secondes"))
              .append($("<th>").html("indications")))
        
        let sum = 0
        let secs = 0
        _.forOwn(bo, (value, key) => {
          sum = sum + parseFloat(value.mea)
          secs = secs + parseInt(value.dur)

          $("#bo tbody")
            .append($("<tr>")
              .append($("<td>").text(key))
              .append($("<td>").text(value.arm))
              .append($("<td>").text(value.mea))
              .append($("<td>").text(value.beg))
              .append($("<td>").text(value.dur))
              .append($("<td>").html(value.tex)))
        })

        $("#bo tbody").append(
          $("<tr>")
            .append($("<td>").html("&nbsp;"))
            .append($("<td>").html("&nbsp;"))
            .append($("<td>").html($("<b>").text(sum.toFixed(0)))
            .append($("<td>").html("&nbsp;"))
            .append($("<td>").html($("<b>").text(secs.toFixed(0)))
          )
        )
      })
    </script>
  </head>
  <body>
    <main id="bo" class="container">
      <table class="table">
        <thead></thead>
        <tbody></tbody>
      </table>
    </main>
  </body>
</html>

