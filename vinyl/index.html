<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">
  <title>Le Vinyl de Christophe Thiebaud</title>

  <link rel="canonical" href="https://aequologica.net/vinyl/">

  <!-- Open Graph data -->
  <meta property="fb:app_id" content="417669389661132" />

  <meta property="og:locale" content="fr_FR">
  <meta property="og:title" content="vynil" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://aequologica.net/vinyl/" />
  <meta property="og:description" content="Le Vinyl de Christophe Thiebaud" />
  <meta property="og:site_name" content="aequologica/vinyl" />

  <meta property="og:image" content="https://aequologica.net/vinyl/thumbnails_dark.jpg" />
  <meta property="og:image:url" content="https://aequologica.net/vinyl/thumbnails_dark.jpg" />
  <meta property="og:image:type" content="image/jpeg" />
  <meta property="og:image:width" content="1024" />
  <meta property="og:image:height" content="1024" />

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css">

  <style>
    body {
      background-color: #21252C !important;
    }

    main {
      background: url(/images/Disque_Vinyl.svg) no-repeat center center;
      background-size: contain;
    }

    .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
    }

    @media (min-width: 768px) {
      .bd-placeholder-img-lg {
        font-size: 3.5rem;
      }
    }
  </style>

</head>

<body>

  <header>
    <div class="bg-dark collapse" id="navbarHeader">
      <div class="container">
        <div class="row">
          <div class="col-sm-8 col-md-7 py-4">
            <h4 class="text-white">Kézako ?</h4>
            <Pour class="text-muted">Un jour, tout ça sera un vinyl.
              Pour l'instant, ce sont des ébauches bien nazes faites au mieux avec GarageBand, au pire avec mon mobile, sans parler d'un essai d'enregistrement en studio au son
              très pas terrible, je vous laisse deviner lequel.
              </p>
          </div>
          <div class="col-sm-4 offset-md-1 py-4">
            <h4 class="text-white">Je suis là :</h4>
            <ul class="list-unstyled">
              <li><a href="https://twitter.com/cthiebaud" class="text-white">Twitter</a></li>
              <li><a href="https://www.facebook.com/christophe.thiebaud" class="text-white">Facebook</a></li>
              <li><a href="https://www.instagram.com/cthiebaud/" class="text-white">Instagram</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="navbar navbar-dark bg-dark shadow-sm">
      <div class="container">
        <a href="#" class="navbar-brand d-flex align-items-center">

          <?xml version="1.0" encoding="UTF-8" standalone="no"?>
          <svg xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" version="1.0" width="40" height="40" viewBox="0 0 225.68 225.687" id="svg2"
            xml:space="preserve" style="overflow:visible">
            <g id="g13">
              <path
                d="M 225.68,112.847 C 225.68,175.171 175.165,225.686 112.836,225.686 C 50.522,225.687 0,175.171 0,112.847 C 0,50.525 50.522,0 112.836,0 C 175.165,0 225.68,50.525 225.68,112.847 z"
                id="path15" />
              <path
                d="M 151.792,112.847 C 151.792,134.358 134.353,151.805 112.836,151.805 C 91.321,151.805 73.881,134.359 73.881,112.847 C 73.881,91.33 91.321,73.891 112.836,73.891 C 134.353,73.891 151.792,91.331 151.792,112.847 z"
                id="path17" style="fill:#ffffff" />
              <path
                d="M 116.866,112.847 C 116.866,115.074 115.063,116.879 112.836,116.879 C 110.617,116.879 108.807,115.074 108.807,112.847 C 108.807,110.619 110.617,108.816 112.836,108.816 C 115.063,108.816 116.866,110.62 116.866,112.847 z"
                id="path119" />

              <path d="M 20.097,66.216 C 30.92,44.729 48.992,27.523 71.101,17.801" id="path23"
                style="fill:none;stroke:#ffffff;stroke-width:2.5007;stroke-linecap:round;stroke-linejoin:round" />


              <path d="M 207.882,154.579 C 197.43,178.35 178.323,197.456 154.547,207.908" id="path27"
                style="fill:none;stroke:#ffffff;stroke-width:2.5007;stroke-linecap:round;stroke-linejoin:round" />


              <path d="M 26.954,65.298 C 36.748,47.633 51.837,33.313 70.072,24.469" id="path31"
                style="fill:none;stroke:#ffffff;stroke-width:2.5007;stroke-linecap:round;stroke-linejoin:round" />


              <path d="M 201.246,155.543 C 191.621,175.444 175.464,191.601 155.563,201.239" id="path35"
                style="fill:none;stroke:#ffffff;stroke-width:2.5007;stroke-linecap:round;stroke-linejoin:round" />


              <path d="M 31.278,68.092 C 40.793,50.792 55.653,36.846 73.627,28.478" id="path41"
                style="fill:none;stroke:#ffffff;stroke-width:2.5007;stroke-linecap:round;stroke-linejoin:round" />


              <path d="M 197.293,151.87 C 188.137,171.654 172.24,187.674 152.548,196.98" id="path45"
                style="fill:none;stroke:#ffffff;stroke-width:2.5007;stroke-linecap:round;stroke-linejoin:round" />


              <path d="M 194.591,145.045 C 187.004,164.302 172.808,180.232 154.794,190.045" id="path49"
                style="fill:none;stroke:#ffffff;stroke-width:2.5007;stroke-linecap:round;stroke-linejoin:round" />


              <path d="M 34.828,72.416 C 43.183,56.334 56.357,43.166 72.436,34.821" id="path53"
                style="fill:none;stroke:#ffffff;stroke-width:2.5007;stroke-linecap:round;stroke-linejoin:round" />


              <path d="M 188.86,145.892 C 181.194,163.508 167.578,177.946 150.548,186.659" id="path57"
                style="fill:none;stroke:#ffffff;stroke-width:2.5007;stroke-linecap:round;stroke-linejoin:round" />


              <path d="M 40.22,72.872 C 48.523,57.822 61.372,45.631 76.909,38.142" id="path61"
                style="fill:none;stroke:#ffffff;stroke-width:2.5007;stroke-linecap:round;stroke-linejoin:round" />


              <path d="M 42.851,79.472 C 49.63,65.272 60.61,53.462 74.175,45.638" id="path65"
                style="fill:none;stroke:#ffffff;stroke-width:2.5007;stroke-linecap:round;stroke-linejoin:round" />


              <path d="M 176.435,145.879 C 170.255,157.757 160.844,167.682 149.37,174.5" id="path69"
                style="fill:none;stroke:#ffffff;stroke-width:2.5007;stroke-linecap:round;stroke-linejoin:round" />


              <path d="M 50.691,77.164 C 57.516,65.305 67.636,55.582 79.807,49.249" id="path73"
                style="fill:none;stroke:#ffffff;stroke-width:2.5007;stroke-linecap:round;stroke-linejoin:round" />


              <path d="M 169.121,146.979 C 162.915,157.183 154.019,165.565 143.417,171.139" id="path77"
                style="fill:none;stroke:#ffffff;stroke-width:2.5007;stroke-linecap:round;stroke-linejoin:round" />


              <path d="M 57.354,77.446 C 63.886,67.225 73.172,58.925 84.158,53.598" id="path81"
                style="fill:none;stroke:#ffffff;stroke-width:2.5007;stroke-linecap:round;stroke-linejoin:round" />


              <path d="M 165.924,141.229 C 160.968,150.476 153.661,158.284 144.805,163.852" id="path85"
                style="fill:none;stroke:#ffffff;stroke-width:2.5007;stroke-linecap:round;stroke-linejoin:round" />


              <path d="M 62.042,80.556 C 67.532,71.937 75.145,64.813 84.151,59.925" id="path89"
                style="fill:none;stroke:#ffffff;stroke-width:2.5007;stroke-linecap:round;stroke-linejoin:round" />


              <path d="M 162.674,136.573 C 157.986,146.412 150.464,154.644 141.171,160.219" id="path93"
                style="fill:none;stroke:#ffffff;stroke-width:2.5007;stroke-linecap:round;stroke-linejoin:round" />


              <path d="M 64.289,86.57 C 69.394,77.163 77.15,69.403 86.554,64.298" id="path97"
                style="fill:none;stroke:#ffffff;stroke-width:2.5007;stroke-linecap:round;stroke-linejoin:round" />


              <path d="M 156.897,135.563 C 152.56,143.963 145.892,150.964 137.745,155.705" id="path101"
                style="fill:none;stroke:#ffffff;stroke-width:2.5007;stroke-linecap:round;stroke-linejoin:round" />


              <path d="M 69.974,87.932 C 75.203,78.958 83.174,71.775 92.734,67.526" id="path105"
                style="fill:none;stroke:#ffffff;stroke-width:2.5007;stroke-linecap:round;stroke-linejoin:round" />


              <path d="M 154.065,129.807 C 149.955,139.764 142.356,147.911 132.782,152.711" id="path109"
                style="fill:none;stroke:#ffffff;stroke-width:2.5007;stroke-linecap:round;stroke-linejoin:round" />


              <path d="M 73.236,92.376 C 77.476,84.19 84.177,77.486 92.363,73.246" id="path113"
                style="fill:none;stroke:#ffffff;stroke-width:2.5007;stroke-linecap:round;stroke-linejoin:round" />


              <path d="M 185.226,140.644 C 179.144,156.488 168.007,169.819 153.798,178.674" id="path117"
                style="fill:none;stroke:#ffffff;stroke-width:2.5007;stroke-linecap:round;stroke-linejoin:round" />
            </g>
          </svg>
          <!-- 
          <strong style="margin-left:1rem;">The Vinyl</strong> 
          -->
        </a>
        <button class="navbar-toggler collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#navbarHeader" aria-controls="navbarHeader" aria-expanded="false"
          aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
      </div>
    </div>
  </header>

  <main>

    <div class="album py-5">
      <div class="container">
        <div id="songs" class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
        </div>
      </div>
    </div>

  </main>

  <footer class="text-muted py-3">
    <div class="container">
      <p class="float-end mb-1">Christophe Thiebaud ℗</p>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/lodash@latest/lodash.min.js"></script>

  <script id="video-template" type="text/x-handlebars-template">
    <iframe 
      id="yt-widget" 
      width="{{width}}" 
      height="{{height}}" 
      src="https://www.youtube.com/embed/{{id}}?controls=0&autoplay=1"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
    </iframe>
  </script>

  <script id="sound-template" type="text/x-handlebars-template">
    <iframe 
      id="sc-widget" 
      width="{{width}}" 
      height="{{height}}" 
      frameborder="0"
      src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/{{id}}&auto_play=true&buying=false&liking=true&download=false&sharing=false&show_artwork=true&show_comments=false&show_playcount=false&show_user=true&hide_related=true&visual=true&callback=true">
    </iframe>
  </script>

  <script id="text-template" type="text/x-handlebars-template">
    <iframe 
      id="tx-widget" 
      width="{{width}}" 
      height="{{height}}" 
      frameborder="0"
      src="/vinyl/texts/showdown.html?{{id}}.md">
    </iframe>
  </script>

  <script id="song-template" type="text/x-handlebars-template">
    <div class="col">
      <div id="{{key}}" class="card shadow-sm bg-secondary" style="position: relative;">
        <img class="img-fluid" src="./covers/{{key}}.jpg" alt="">

        <div class="card-body text-light bg-dark">
          <p class="card-text">{{val.text}}</p>
          <div class="d-flex justify-content-between align-items-center">
            <div class="btn-group">
              {{#if val.watch}}
              <button type="button" class="vid btn btn-sm btn-outline-secondary" data-id="{{val.youtubeid}}" data-text="watch">watch</button>
              {{/if}}
              {{#if val.listen}}
              <button type="button" class="sound btn btn-sm btn-outline-secondary" data-id="{{val.soundcloudid}}" data-text="listen">listen</button>
              {{/if}}
              {{#if val.listen2}}
              <button type="button" class="sound btn btn-sm btn-outline-secondary" data-id="{{val.soundcloudid2}}" data-text="listen">listen</button>
              {{/if}}
              {{#if val.read}}
              <button type="button" class="markdown btn btn-sm btn-outline-secondary" data-id="{{key}}" data-text="read">read</button>
              {{/if}}
            </div>
            <small class="text-muted">{{val.duration}}</small>
          </div>
        </div>
      </div>
    </div>
  </script>

  <script>
    // compile the template
    var source = document.getElementById("song-template").innerHTML;
    var template = Handlebars.compile(source);
    var source2 = document.getElementById("video-template").innerHTML;
    var template2 = Handlebars.compile(source2);
    var source3 = document.getElementById("sound-template").innerHTML;
    var template3 = Handlebars.compile(source3);
    var source4 = document.getElementById("text-template").innerHTML;
    var template4 = Handlebars.compile(source4);

    let songs = {
      "bateau": {
        text: "Le Bateau ivre ",
        duration: "6:37",
        listen: "https://soundcloud.com/christophe-thiebaud/le-bateau-ivre",
        soundcloudid: "203852214",
        listen2: "https://soundcloud.com/christophe-thiebaud/le-bateau-ivre-1",
        soundcloudid2: "969780100",
        read: "https://www.poetica.fr/poeme-1906/arthur-rimbaud-le-bateau-ivre/",
        watch: "https://youtu.be/a3Ek2EYkGsw",
        youtubeid: "a3Ek2EYkGsw",

      },
      "dancing": {
        text: "Socially Distant Dancing",
        duration: "3:49",
        listen: "https://soundcloud.com/christophe-thiebaud/matsubaba",
        soundcloudid: "958856077",
        watch: "https://youtu.be/K6rk5tG71rI",
        youtubeid: "K6rk5tG71rI",

      },
      "larme": {
        text: "Larme",
        duration: "3:47",
        watch: "https://youtu.be/Zk_YubAnJmM",
        youtubeid: "Zk_YubAnJmM",

        read: "https://www.poetica.fr/poeme-899/arthur-rimbaud-larme/",
      },
      "matin": {
        text: "Bonne pensée du matin",
        duration: "3:17",
        listen_: "https://soundcloud.com/christophe-thiebaud/bonne-pensee-du-matin-arthur",
        soundcloudid: "811632862",
        watch: "https://youtu.be/KHRBZ7buOFk",
        youtubeid: "KHRBZ7buOFk",

        read: "https://www.poetica.fr/poeme-646/arthur-rimbaud-bonne-pensee-du-matin/",
      },
      "matsubaba": {
        text: "Matsubaba Cantata",
        duration: "6:08",
        listen: "https://soundcloud.com/christophe-thiebaud/matsubaba_cantata",
        soundcloudid: "962293678",
      },
      "poux": {
        text: "Les chercheuses de poux",
        duration: "2:24",
        listen: "https://soundcloud.com/christophe-thiebaud/les-chercheuses-de-poux/s-kZTIT",
        soundcloudid: "262697864%3Fsecret_token%3Ds-kZTIT",
        read: "https://www.poetica.fr/poeme-138/arthur-rimbaud-les-chercheuses-de-poux/",
      },
      "sensation": {
        text: "Sensation",
        duration: "5:21",
        listen: "https://soundcloud.com/christophe-thiebaud/sensation-1",
        soundcloudid: "970945483",
        watch: "https://youtu.be/tkK7Bi7c7Wc",
        youtubeid: "tkK7Bi7c7Wc",
        read: "https://www.poetica.fr/poeme-533/arthur-rimbaud-sensation/",
      },
      "supplique": {
        text: "Supplique Pour Être Enterré À La Plage De Sète",
        duration: "8:00",
        listen0: "https://soundcloud.com/christophe-thiebaud/supplique-pour-etre-enterre-a/s-1ON0iP3KZ2d",
        soundcloudid0: "811603621%3Fsecret_token%3Ds-1ON0iP3KZ2d",
        read: "http://www.analysebrassens.com/?page=texte&id=94&%23",
      },
      "tour": {
        text: "Chanson de la plus haute tour",
        duration: "5:09",
        listen: "https://soundcloud.com/christophe-thiebaud/chanson-de-la-plus-haute-tour",
        soundcloudid: "969542389",
        read: "http://courses.logos.it/plscourses/linguistic_resources.laboratorio5?lang=en",
        watch: "https://youtu.be/7lKeQ91LtFk",
        youtubeid: "7lKeQ91LtFk",
      },
      "brouillard_I": {
        text: "Brouillard I - Psycho, Alfred Hitchcock, 1960",
        duration: "3:54",
        watch: "https://youtu.be/ehCW0AkOp2Q",
        youtubeid: "ehCW0AkOp2Q",
      },
      "brouillard_II": {
        text: "Brouillard II - Psycho, Gus Van Sant, 1998",
        duration: "3:54",
        watch: "https://youtu.be/wDe2REZxvMo",
        youtubeid: "wDe2REZxvMo",
      },
      "bwv1005": {
        text: "Largo from sonata #3 in C major BWV 1005, JS Bach",
        duration: "2:26",
        watch: "https://youtu.be/p9Cc4amUnHw",
        youtubeid: "p9Cc4amUnHw",
      }
    };

    let order = [
      "bateau",
      "brouillard_I",
      "brouillard_II",
      "bwv1005",
      "dancing",
      "larme",
      "matin",
      "matsubaba",
      "poux",
      "sensation",
      "supplique",
      "tour",
    ];

    // http://stackoverflow.com/questions/20789373/shuffle-array-in-ng-repeat-angular
    // -> Fisher–Yates shuffle algorithm
    function shuffleArray(array) {
      var m = array.length, t, i;
      // While there remain elements to shuffle
      while (m) {
        // Pick a remaining element…
        i = Math.floor(Math.random() * m--);
        // And swap it with the current element.
        t = array[m];
        array[m] = array[i];
        array[i] = t;
      }
      return array;
    }

    let $row = $('#songs');

    _.each(shuffleArray(order), (key) => {
      $row.append(template({
        key: key,
        val: songs[key],
      }));
    });

    function watch(url) {
      alert(url);
    }

    $(document).ready(function () {

      let $thePlayer = undefined;
      let $theButton = undefined;

      //  destroy if exists
      function destroy_if_exists($button, buttonText) {
        if ($thePlayer) {
          $thePlayer.remove();
          $thePlayer = undefined;
        }
        if ($theButton) {
          $theButton.html($theButton.data("text"));
          if ($theButton.prop('id') === $button.prop('id')) {
            return undefined;
          }
        }
        $button.html("<span style='color:lightblue'>close ×</span>");
        return $button;
      }

      function getDims($button) {
        const $card = $button.parents('div.card');
        const $img = $card.children('img');
        const oh = $img.outerHeight();
        const ow = $img.outerWidth();

        return {
          style: {
            position: "absolute",
            top: 0,
            left: 0,
            width: ow + "px",
            height: oh + "px",
            "background-color": "transparent",
          },
          ow: ow,
          oh: oh,
          $card: $card,
        };

      }

      function showiframe(e, template) {
        e.preventDefault();
        e.stopPropagation();
        $theButton = destroy_if_exists($(e.target));
        if (!$theButton) {
          return;
        }

        const dims = getDims($theButton);

        const soundcloudid = $theButton.data('id');
        const soundcloudiframe = template({
          width: dims.ow,
          height: dims.oh,
          id: soundcloudid,
        });

        $thePlayer = $(soundcloudiframe);

        dims.$card.append($thePlayer.css(dims.style));
      }

      $('div.card img').on('click', e => {
        $(e.target).parent().find('.btn-group button:first-child').trigger("click");
      });

      $('div.card .vid').on('click', e => showiframe(e, template2));
      $('div.card .sound').on('click', e => showiframe(e, template3));
      $('div.card .markdown').on('click', e => showiframe(e, template4));
    });


  </script>


</body>

</html>